{"title":"多群管理/自动检测Q群人数 切换入群链接 一个URL就能搞定！附思路/PHP代码","uid":"24dc6686db91ed3c8f8339d5c003a8c9","slug":"24603","date":"2022-10-04T11:22:49.000Z","updated":"2022-10-22T07:09:05.349Z","comments":true,"path":"api/articles/24603.json","keywords":null,"cover":[],"content":"<span id=\"more\"></span>\n\n<h2 id=\"杂谈\"><a href=\"#杂谈\" class=\"headerlink\" title=\"杂谈\"></a>杂谈</h2><p>其实代码非常简单，就是用的meta标签进行跳转</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;!DOCTYPE html&gt;\n\n&lt;html lang&#x3D;&quot;zh-cn&quot;&gt;\n\n&lt;head&gt;\n\n    &lt;meta charset&#x3D;&quot;utf-8&quot;&gt;\n\n    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width,initial-scale&#x3D;1,minimum-scale&#x3D;1,maximum-scale&#x3D;1,user-scalable&#x3D;no&quot; &#x2F;&gt;\n\n    &lt;title&gt;正在跳转&lt;&#x2F;title&gt;\n\n    &lt;link rel&#x3D;&quot;shortcut icon&quot; href&#x3D;&quot;https:&#x2F;&#x2F;www.iculture.cc&#x2F;icon&#x2F;logo.ico&quot; type&#x3D;&quot;image&#x2F;x-icon&quot;&gt;\n\n    &lt;meta http-equiv&#x3D;&quot;refresh&quot; content&#x3D;&quot;0;url&#x3D;https:&#x2F;&#x2F;jq.qq.com&#x2F;?_wv&#x3D;1027&amp;k&#x3D;YRiWzf8c&quot;&gt;\n\n&lt;&#x2F;head&gt;\n\n&lt;&#x2F;html&gt;</code></pre>\n\n<p>跳转群链接要提前设置好</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;meta http-equiv&#x3D;&quot;refresh&quot; content&#x3D;&quot;0;url&#x3D;https:&#x2F;&#x2F;jq.qq.com&#x2F;?_wv&#x3D;1027&amp;k&#x3D;YRiWzf8c&quot;&gt;</code></pre>\n\n<p>但是人总是懒的，况且很多热心网友表示自己运营的群太多了，定期去修改指定某个群的URL感觉好累了！</p>\n<p><img src=\"https://static.iculture.cc/wp-content/uploads/2022/10/20221012064133107.png?x-oss-process=image/auto-orient,1/format,webp/watermark,image_cHVibGljL2xvZ28ucG5nP3gtb3NzLXByb2Nlc3M9aW1hZ2UvcmVzaXplLFBfMTA,x_10,y_10\" alt=\"图片[1]-多群管理/自动检测Q群人数 切换入群链接 一个URL就能搞定！附思路/PHP代码-FancyPig&#39;s blog\"></p>\n<p>接下来就有了本期的教程，我们现在已经实现了，<strong>自动检测群人数，如果满了自动切换下一个群链接</strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">https:&#x2F;&#x2F;www.iculture.cc&#x2F;qun</code></pre>\n\n<h2 id=\"实现思路\"><a href=\"#实现思路\" class=\"headerlink\" title=\"实现思路\"></a>实现思路</h2><p>首先我们要思考下面的问题</p>\n<ul>\n<li>如何判断Q群人满了？</li>\n<li>如何生成Q群链接？</li>\n</ul>\n<h3 id=\"QQ群人有没有满？如何通过接口判断？\"><a href=\"#QQ群人有没有满？如何通过接口判断？\" class=\"headerlink\" title=\"QQ群人有没有满？如何通过接口判断？\"></a>QQ群人有没有满？如何通过接口判断？</h3><p>这两个问题通过下面这个网站都可以解决</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">https:&#x2F;&#x2F;qun.qq.com&#x2F;</code></pre>\n\n<p>我们进入群管理页面，我们发现在点击成员管理</p>\n<p><img src=\"https://static.iculture.cc/wp-content/uploads/2022/10/20221012064453512-1024x709.png?x-oss-process=image/auto-orient,1/format,webp/watermark,image_cHVibGljL2xvZ28ucG5nP3gtb3NzLXByb2Nlc3M9aW1hZ2UvcmVzaXplLFBfMTA,x_10,y_10\" alt=\"图片[2]-多群管理/自动检测Q群人数 切换入群链接 一个URL就能搞定！附思路/PHP代码-FancyPig&#39;s blog\"></p>\n<p>请求了相关接口</p>\n<p><img src=\"https://static.iculture.cc/wp-content/uploads/2022/10/20221012064606681-1024x479.png?x-oss-process=image/auto-orient,1/format,webp/watermark,image_cHVibGljL2xvZ28ucG5nP3gtb3NzLXByb2Nlc3M9aW1hZ2UvcmVzaXplLFBfMTA,x_10,y_10\" alt=\"图片[3]-多群管理/自动检测Q群人数 切换入群链接 一个URL就能搞定！附思路/PHP代码-FancyPig&#39;s blog\"></p>\n<table>\n<thead>\n<tr>\n<th>请求接口URL</th>\n<th><a href=\"https://qun.qq.com/cgi-bin/qun_mgr/search_group_members\">https://qun.qq.com/cgi-bin/qun_mgr/search_group_members</a></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>请求方式</td>\n<td>POST</td>\n</tr>\n<tr>\n<td>请求头</td>\n<td>由于过长，这里隐藏，但是不可缺少（因为里面cookie需要验证QQ账户）</td>\n</tr>\n<tr>\n<td>请求载荷</td>\n<td>gc&#x3D;<strong>208911329</strong>&amp;st&#x3D;0&amp;end&#x3D;20&amp;sort&#x3D;0&amp;bkn&#x3D;1737682914</td>\n</tr>\n</tbody></table>\n<p>请求结构</p>\n<p>我们可以发现gc&#x3D;后面的<strong>208911329</strong>是我们的群号</p>\n<p>同时我们获得下面的响应体</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#123;&quot;ec&quot;:0,&quot;errcode&quot;:0,&quot;em&quot;:&quot;&quot;,&quot;cache&quot;:0,&quot;adm_num&quot;:2,&quot;levelname&quot;:null,&quot;mems&quot;:[&#123;&quot;uin&quot;:858887520,&quot;role&quot;:0,&quot;g&quot;:0,&quot;join_time&quot;:1645658214,&quot;last_speak_time&quot;:1665478404,&quot;lv&quot;:&#123;&quot;point&quot;:0,&quot;level&quot;:1&#125;,&quot;card&quot;:&quot;\\u5173\\u6ce8\\u5fae\\u4fe1\\u516c\\u4f17\\u53f7&quot;,&quot;tags&quot;:&quot;-1&quot;,&quot;flag&quot;:0,&quot;nick&quot;:&quot;\\u732a\\u732a\\u4fa0&quot;,&quot;qage&quot;:8,&quot;rm&quot;:0&#125;,&#123;&quot;uin&quot;:66882930,&quot;role&quot;:1,&quot;g&quot;:-1,&quot;join_time&quot;:1645658214,&quot;last_speak_time&quot;:1660986989,&quot;lv&quot;:&#123;&quot;point&quot;:0,&quot;level&quot;:1&#125;,&quot;card&quot;:&quot;&quot;,&quot;tags&quot;:&quot;-1&quot;,&quot;flag&quot;:0,&quot;nick&quot;:&quot;\\u2062\\u2062&quot;,&quot;qage&quot;:21,&quot;rm&quot;:1&#125;,&#123;&quot;uin&quot;:210001314,&quot;role&quot;:1,&quot;g&quot;:1,&quot;join_time&quot;:1645659409,&quot;last_speak_time&quot;:1659952327,&quot;lv&quot;:&#123;&quot;point&quot;:0,&quot;level&quot;:1&#125;,&quot;card&quot;:&quot;&quot;,&quot;tags&quot;:&quot;-1&quot;,&quot;flag&quot;:0,&quot;nick&quot;:&quot;\\u732a\\u5934&quot;,&quot;qage&quot;:4,&quot;rm&quot;:1&#125;,&#123;&quot;uin&quot;:2662686939,&quot;role&quot;:2,&quot;g&quot;:-1,&quot;join_time&quot;:1645710394,&quot;last_speak_time&quot;:1645710394,&quot;lv&quot;:&#123;&quot;point&quot;:0,&quot;level&quot;:1&#125;,&quot;card&quot;:&quot;&quot;,&quot;tags&quot;:&quot;-1&quot;,&quot;flag&quot;:0,&quot;nick&quot;:&quot;1uh5an&quot;,&quot;qage&quot;:8,&quot;rm&quot;:1&#125;,&#123;&quot;uin&quot;:1984326315,&quot;role&quot;:2,&quot;g&quot;:0,&quot;join_time&quot;:1645711613,&quot;last_speak_time&quot;:1645711613,&quot;lv&quot;:&#123;&quot;point&quot;:0,&quot;level&quot;:1&#125;,&quot;card&quot;:&quot;&quot;,&quot;tags&quot;:&quot;-1&quot;,&quot;flag&quot;:0,&quot;nick&quot;:&quot;\\u4ee3\\u7801\\u4e0e\\u8bd7&quot;,&quot;qage&quot;:10,&quot;rm&quot;:1&#125;,&#123;&quot;uin&quot;:3414387632,&quot;role&quot;:2,&quot;g&quot;:0,&quot;join_time&quot;:1645712299,&quot;last_speak_time&quot;:1645712299,&quot;lv&quot;:&#123;&quot;point&quot;:0,&quot;level&quot;:1&#125;,&quot;card&quot;:&quot;&quot;,&quot;tags&quot;:&quot;-1&quot;,&quot;flag&quot;:0,&quot;nick&quot;:&quot;CBG&quot;,&quot;qage&quot;:5,&quot;rm&quot;:1&#125;,&#123;&quot;uin&quot;:2683113838,&quot;role&quot;:2,&quot;g&quot;:-1,&quot;join_time&quot;:1645713221,&quot;last_speak_time&quot;:1645713221,&quot;lv&quot;:&#123;&quot;point&quot;:0,&quot;level&quot;:1&#125;,&quot;card&quot;:&quot;&quot;,&quot;tags&quot;:&quot;-1&quot;,&quot;flag&quot;:0,&quot;nick&quot;:&quot;404 RUL&quot;,&quot;qage&quot;:3,&quot;rm&quot;:1&#125;,&#123;&quot;uin&quot;:2573925869,&quot;role&quot;:2,&quot;g&quot;:-1,&quot;join_time&quot;:1645713484,&quot;last_speak_time&quot;:1645713484,&quot;lv&quot;:&#123;&quot;point&quot;:0,&quot;level&quot;:1&#125;,&quot;card&quot;:&quot;&quot;,&quot;tags&quot;:&quot;-1&quot;,&quot;flag&quot;:0,&quot;nick&quot;:&quot;\\u2741\\u2741&quot;,&quot;qage&quot;:0,&quot;rm&quot;:1&#125;,&#123;&quot;uin&quot;:3058678420,&quot;role&quot;:2,&quot;g&quot;:-1,&quot;join_time&quot;:1645715176,&quot;last_speak_time&quot;:1645715176,&quot;lv&quot;:&#123;&quot;point&quot;:0,&quot;level&quot;:1&#125;,&quot;card&quot;:&quot;&quot;,&quot;tags&quot;:&quot;-1&quot;,&quot;flag&quot;:0,&quot;nick&quot;:&quot;\\u62d2\\u7edd\\u9171\\uff08\\u6697\\u533a\\u7b2c\\u4e00\\u6148\\u5584\\u5bb6\\uff09&quot;,&quot;qage&quot;:0,&quot;rm&quot;:1&#125;,&#123;&quot;uin&quot;:2784762049,&quot;role&quot;:2,&quot;g&quot;:0,&quot;join_time&quot;:1645715272,&quot;last_speak_time&quot;:1645715303,&quot;lv&quot;:&#123;&quot;point&quot;:0,&quot;level&quot;:1&#125;,&quot;card&quot;:&quot;&quot;,&quot;tags&quot;:&quot;-1&quot;,&quot;flag&quot;:0,&quot;nick&quot;:&quot;\\u5b59\\u67d0\\u4eba&quot;,&quot;qage&quot;:3,&quot;rm&quot;:1&#125;,&#123;&quot;uin&quot;:2918364378,&quot;role&quot;:2,&quot;g&quot;:-1,&quot;join_time&quot;:1645715489,&quot;last_speak_time&quot;:1645715617,&quot;lv&quot;:&#123;&quot;point&quot;:0,&quot;level&quot;:1&#125;,&quot;card&quot;:&quot;&quot;,&quot;tags&quot;:&quot;-1&quot;,&quot;flag&quot;:0,&quot;nick&quot;:&quot;Bullshit love&quot;,&quot;qage&quot;:9,&quot;rm&quot;:1&#125;,&#123;&quot;uin&quot;:1124916437,&quot;role&quot;:2,&quot;g&quot;:-1,&quot;join_time&quot;:1645716717,&quot;last_speak_time&quot;:1645716717,&quot;lv&quot;:&#123;&quot;point&quot;:0,&quot;level&quot;:1&#125;,&quot;card&quot;:&quot;&quot;,&quot;tags&quot;:&quot;-1&quot;,&quot;flag&quot;:0,&quot;nick&quot;:&quot;ANON&quot;,&quot;qage&quot;:13,&quot;rm&quot;:1&#125;,&#123;&quot;uin&quot;:1280932578,&quot;role&quot;:2,&quot;g&quot;:0,&quot;join_time&quot;:1645717041,&quot;last_speak_time&quot;:1645717041,&quot;lv&quot;:&#123;&quot;point&quot;:0,&quot;level&quot;:1&#125;,&quot;card&quot;:&quot;&quot;,&quot;tags&quot;:&quot;-1&quot;,&quot;flag&quot;:0,&quot;nick&quot;:&quot;\\u683c\\u6805\\u59b2\\u449c&quot;,&quot;qage&quot;:7,&quot;rm&quot;:1&#125;,&#123;&quot;uin&quot;:1105613747,&quot;role&quot;:2,&quot;g&quot;:1,&quot;join_time&quot;:1645717484,&quot;last_speak_time&quot;:1645717484,&quot;lv&quot;:&#123;&quot;point&quot;:0,&quot;level&quot;:1&#125;,&quot;card&quot;:&quot;&quot;,&quot;tags&quot;:&quot;-1&quot;,&quot;flag&quot;:0,&quot;nick&quot;:&quot;\\u6b4c\\u59ec&quot;,&quot;qage&quot;:2,&quot;rm&quot;:1&#125;,&#123;&quot;uin&quot;:2922473703,&quot;role&quot;:2,&quot;g&quot;:1,&quot;join_time&quot;:1645718129,&quot;last_speak_time&quot;:1645718129,&quot;lv&quot;:&#123;&quot;point&quot;:0,&quot;level&quot;:1&#125;,&quot;card&quot;:&quot;&quot;,&quot;tags&quot;:&quot;-1&quot;,&quot;flag&quot;:0,&quot;nick&quot;:&quot;\\u6e21\\u6625\\u98ce&quot;,&quot;qage&quot;:7,&quot;rm&quot;:1&#125;,&#123;&quot;uin&quot;:1319156460,&quot;role&quot;:2,&quot;g&quot;:-1,&quot;join_time&quot;:1645719747,&quot;last_speak_time&quot;:1645719747,&quot;lv&quot;:&#123;&quot;point&quot;:0,&quot;level&quot;:1&#125;,&quot;card&quot;:&quot;&quot;,&quot;tags&quot;:&quot;-1&quot;,&quot;flag&quot;:0,&quot;nick&quot;:&quot;\\u6c5f\\u90ce\\u624d\\u5c3d&quot;,&quot;qage&quot;:11,&quot;rm&quot;:1&#125;,&#123;&quot;uin&quot;:775233780,&quot;role&quot;:2,&quot;g&quot;:0,&quot;join_time&quot;:1645720368,&quot;last_speak_time&quot;:1645724301,&quot;lv&quot;:&#123;&quot;point&quot;:0,&quot;level&quot;:1&#125;,&quot;card&quot;:&quot;&quot;,&quot;tags&quot;:&quot;-1&quot;,&quot;flag&quot;:0,&quot;nick&quot;:&quot;X.&quot;,&quot;qage&quot;:14,&quot;rm&quot;:1&#125;,&#123;&quot;uin&quot;:2834263401,&quot;role&quot;:2,&quot;g&quot;:-1,&quot;join_time&quot;:1645723700,&quot;last_speak_time&quot;:1645723725,&quot;lv&quot;:&#123;&quot;point&quot;:0,&quot;level&quot;:1&#125;,&quot;card&quot;:&quot;&quot;,&quot;tags&quot;:&quot;-1&quot;,&quot;flag&quot;:0,&quot;nick&quot;:&quot;\\u574f\\u60c5\\u7eea&quot;,&quot;qage&quot;:7,&quot;rm&quot;:1&#125;,&#123;&quot;uin&quot;:598106895,&quot;role&quot;:2,&quot;g&quot;:1,&quot;join_time&quot;:1645725723,&quot;last_speak_time&quot;:1645725723,&quot;lv&quot;:&#123;&quot;point&quot;:0,&quot;level&quot;:1&#125;,&quot;card&quot;:&quot;&quot;,&quot;tags&quot;:&quot;-1&quot;,&quot;flag&quot;:0,&quot;nick&quot;:&quot;v\\uff1a2278689375&quot;,&quot;qage&quot;:13,&quot;rm&quot;:1&#125;,&#123;&quot;uin&quot;:3030974610,&quot;role&quot;:2,&quot;g&quot;:-1,&quot;join_time&quot;:1645726159,&quot;last_speak_time&quot;:1645726159,&quot;lv&quot;:&#123;&quot;point&quot;:0,&quot;level&quot;:1&#125;,&quot;card&quot;:&quot;&quot;,&quot;tags&quot;:&quot;-1&quot;,&quot;flag&quot;:0,&quot;nick&quot;:&quot;Jay.&quot;,&quot;qage&quot;:3,&quot;rm&quot;:1&#125;,&#123;&quot;uin&quot;:746916596,&quot;role&quot;:2,&quot;g&quot;:1,&quot;join_time&quot;:1645729649,&quot;last_speak_time&quot;:1645729649,&quot;lv&quot;:&#123;&quot;point&quot;:0,&quot;level&quot;:1&#125;,&quot;card&quot;:&quot;&quot;,&quot;tags&quot;:&quot;-1&quot;,&quot;flag&quot;:0,&quot;nick&quot;:&quot;Mikoto&quot;,&quot;qage&quot;:8,&quot;rm&quot;:1&#125;],&quot;count&quot;:1970,&quot;svr_time&quot;:1665557128,&quot;max_count&quot;:2000,&quot;search_count&quot;:1970,&quot;extmode&quot;:0&#125;</code></pre>\n\n<p>我们发现里面可以获取部分群员的信息，比方说QQ号和加群的时间，但是这些都不重要，我们只关心群有没有满这个问题？可以看到其中有两个字段在结尾部分</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&quot;count&quot;:1970,&quot;svr_time&quot;:1665557128,&quot;max_count&quot;:2000,&quot;search_count&quot;:1970,&quot;extmode&quot;:0&#125;</code></pre>\n\n<ul>\n<li>max_count：群最高人数</li>\n<li>count：群现有人数</li>\n</ul>\n<p>那我们是否可以在简化一下上面的步骤，群成员的信息我们不要呢？我们尝试改变请求</p>\n<table>\n<thead>\n<tr>\n<th>请求接口URL</th>\n<th><a href=\"https://qun.qq.com/cgi-bin/qun_mgr/search_group_members\">https://qun.qq.com/cgi-bin/qun_mgr/search_group_members</a></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>请求方式</td>\n<td>POST</td>\n</tr>\n<tr>\n<td>请求头</td>\n<td>由于过长，这里隐藏，但是不可缺少（因为里面cookie需要验证QQ账户）</td>\n</tr>\n<tr>\n<td>请求载荷</td>\n<td>gc&#x3D;<strong>208911329</strong>&amp;bkn&#x3D;1737682914</td>\n</tr>\n</tbody></table>\n<p>请求结构</p>\n<p>这样请求之后我们发现，响应结果就变得非常简单了，理论上这么做<strong>可以减少占用的服务资源，会提升获取的速度</strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#123;&quot;ec&quot;:0,&quot;errcode&quot;:0,&quot;em&quot;:&quot;&quot;,&quot;cache&quot;:0,&quot;adm_num&quot;:2,&quot;levelname&quot;:null,&quot;mems&quot;:[&#123;&quot;uin&quot;:858887520,&quot;role&quot;:0,&quot;g&quot;:0,&quot;join_time&quot;:1645658214,&quot;last_speak_time&quot;:1665478404,&quot;lv&quot;:&#123;&quot;point&quot;:0,&quot;level&quot;:1&#125;,&quot;card&quot;:&quot;\\u5173\\u6ce8\\u5fae\\u4fe1\\u516c\\u4f17\\u53f7&quot;,&quot;tags&quot;:&quot;-1&quot;,&quot;flag&quot;:0,&quot;nick&quot;:&quot;\\u732a\\u732a\\u4fa0&quot;,&quot;qage&quot;:8,&quot;rm&quot;:0&#125;],&quot;count&quot;:1970,&quot;svr_time&quot;:1665557744,&quot;max_count&quot;:2000,&quot;search_count&quot;:1970,&quot;extmode&quot;:0&#125;</code></pre>\n\n<p>既然这种方式是有效的，那我们就可以立即开整了，浏览器里有一个很强大的功能</p>\n<p>在我们找到的接口中，<strong>复制&gt;以cURL(bash)格式复制</strong></p>\n<p><img src=\"https://static.iculture.cc/wp-content/uploads/2022/10/20221012065815538.png?x-oss-process=image/auto-orient,1/format,webp/watermark,image_cHVibGljL2xvZ28ucG5nP3gtb3NzLXByb2Nlc3M9aW1hZ2UvcmVzaXplLFBfMTA,x_10,y_10\" alt=\"图片[4]-多群管理/自动检测Q群人数 切换入群链接 一个URL就能搞定！附思路/PHP代码-FancyPig&#39;s blog\"></p>\n<p>之后，我们为大家准备了一个CURL转PHP代码的在线网站</p>\n<p><a href=\"https://iculture.cc/demo/curl_to_php/\">CURL转PHP在线工具</a></p>\n<p><img src=\"https://static.iculture.cc/wp-content/uploads/2022/10/20221012070010557-1024x875.png?x-oss-process=image/auto-orient,1/format,webp/watermark,image_cHVibGljL2xvZ28ucG5nP3gtb3NzLXByb2Nlc3M9aW1hZ2UvcmVzaXplLFBfMTA,x_10,y_10\" alt=\"图片[5]-多群管理/自动检测Q群人数 切换入群链接 一个URL就能搞定！附思路/PHP代码-FancyPig&#39;s blog\"></p>\n<p>之后我们可以快速获取到转换后的php代码</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#x2F;&#x2F; Generated by FancyPig Tool: https:&#x2F;&#x2F;www.iculture.cc&#x2F;demo&#x2F;curl_to_php\n\n$ch &#x3D; curl_init();\n\n\n\ncurl_setopt($ch, CURLOPT_URL, &#39;https:&#x2F;&#x2F;qun.qq.com&#x2F;cgi-bin&#x2F;qun_mgr&#x2F;search_group_members&#39;);\n\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\n\ncurl_setopt($ch, CURLOPT_POST, 1);\n\ncurl_setopt($ch, CURLOPT_POSTFIELDS, &quot;gc&#x3D;208911329&amp;st&#x3D;0&amp;end&#x3D;20&amp;sort&#x3D;0&amp;bkn&#x3D;1737682914&quot;);\n\ncurl_setopt($ch, CURLOPT_ENCODING, &#39;gzip, deflate&#39;);\n\n\n\n$headers &#x3D; array();\n\n$headers[] &#x3D; &#39;Authority: qun.qq.com&#39;;\n\n$headers[] &#x3D; &#39;Accept: application&#x2F;json, text&#x2F;javascript, *&#x2F;*; q&#x3D;0.01&#39;;\n\n$headers[] &#x3D; &#39;Accept-Language: zh-CN,zh;q&#x3D;0.9,en;q&#x3D;0.8&#39;;\n\n$headers[] &#x3D; &#39;Content-Type: application&#x2F;x-www-form-urlencoded; charset&#x3D;UTF-8&#39;;\n\n$headers[] &#x3D; &#39;Cookie: 填你自己的Cookie&#39;;\n\n$headers[] &#x3D; &#39;Origin: https:&#x2F;&#x2F;qun.qq.com&#39;;\n\n$headers[] &#x3D; &#39;Referer: https:&#x2F;&#x2F;qun.qq.com&#x2F;member.html&#39;;\n\n$headers[] &#x3D; &#39;Sec-Ch-Ua: \\&quot;Chromium\\&quot;;v&#x3D;\\&quot;106\\&quot;, \\&quot;Google Chrome\\&quot;;v&#x3D;\\&quot;106\\&quot;, \\&quot;Not;A&#x3D;Brand\\&quot;;v&#x3D;\\&quot;99\\&quot;&#39;;\n\n$headers[] &#x3D; &#39;Sec-Ch-Ua-Mobile: ?0&#39;;\n\n$headers[] &#x3D; &#39;Sec-Ch-Ua-Platform: \\&quot;Windows\\&quot;&#39;;\n\n$headers[] &#x3D; &#39;Sec-Fetch-Dest: empty&#39;;\n\n$headers[] &#x3D; &#39;Sec-Fetch-Mode: cors&#39;;\n\n$headers[] &#x3D; &#39;Sec-Fetch-Site: same-origin&#39;;\n\n$headers[] &#x3D; &#39;User-Agent: Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;106.0.0.0 Safari&#x2F;537.36&#39;;\n\n$headers[] &#x3D; &#39;X-Requested-With: XMLHttpRequest&#39;;\n\ncurl_setopt($ch, CURLOPT_HTTPHEADER, $headers);\n\n\n\n$result &#x3D; curl_exec($ch);\n\nif (curl_errno($ch)) &#123;\n\n    echo &#39;Error:&#39; . curl_error($ch);\n\n&#125;\n\ncurl_close($ch);</code></pre>\n\n<p>通过上面的代码是可以请求并获取到结果的，这时，我们可以进一步进行操作，比方说，我们先将获取的结果$result进行JSON格式化，并打印</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">$result &#x3D; json_decode($result,JSON_PRETTY_PRINT|JSON_UNESCAPED_UNICODE);\n\nprint_r($result);</code></pre>\n\n<p>打印结果为</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Array ( [ec] &#x3D;&gt; 0 [errcode] &#x3D;&gt; 0 [em] &#x3D;&gt; [cache] &#x3D;&gt; 0 [adm_num] &#x3D;&gt; 2 [levelname] &#x3D;&gt; [mems] &#x3D;&gt; Array ( [0] &#x3D;&gt; Array ( [uin] &#x3D;&gt; 858887520 [role] &#x3D;&gt; 0 [g] &#x3D;&gt; 0 [join_time] &#x3D;&gt; 1645658214 [last_speak_time] &#x3D;&gt; 1665478404 [lv] &#x3D;&gt; Array ( [point] &#x3D;&gt; 0 [level] &#x3D;&gt; 1 ) [card] &#x3D;&gt; 666 [tags] &#x3D;&gt; -1 [flag] &#x3D;&gt; 0 [nick] &#x3D;&gt; abc [qage] &#x3D;&gt; 8 [rm] &#x3D;&gt; 0 ) ) [count] &#x3D;&gt; 1970 [svr_time] &#x3D;&gt; 1665558193 [max_count] &#x3D;&gt; 2000 [search_count] &#x3D;&gt; 1970 [extmode] &#x3D;&gt; 0 )</code></pre>\n\n<p>然后我们需要去取刚才说的<strong>count</strong>和<strong>max_count</strong>的值，并打印</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">$member_total &#x3D; $result[&#39;max_count&#39;];\n\n$member_now &#x3D; $result[&#39;count&#39;];\n\n\n\nprint($member_total);\n\nprint(&quot;\\n&quot;);\n\nprint($member_now);</code></pre>\n\n<p>这里我们可以看到已经获取到了</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">2000 1970</code></pre>\n\n<p>那既然已经拿到值了，你还可以做更多的事情，比方说判断群人数是不是满了？</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">if ($member_now &lt; $member_total)&#123;\n\n    print(&quot;群没有满&quot;);\n\n    print(&quot;现有人数：$member_now&quot;);\n\n&#125;else &#123;\n\n    $msg&#x3D;&quot;群人满了&quot;;\n\n&#125;</code></pre>\n\n<p>当然，你还可以把刚才的请求写成一个函数，这样可以去接收网页里的传参，这就是我们常说的接口</p>\n<p><strong>需要强调的是，目前这种方式都需要使用您自己QQ的cookie，并不能通用！</strong></p>\n<p>也就是说不能用我QQ的cookie获取你的QQ群人数情况，因为我不在群里，在群成员官网也是访问不到的！</p>\n<p>我们对上述接口进行测试</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">https:&#x2F;&#x2F;www.iculture.cc&#x2F;qun&#x2F;qun.php?qun&#x3D;</code></pre>\n\n<p>比方说，我们查询一下<code>208911329</code>群有没有满？</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">https:&#x2F;&#x2F;www.iculture.cc&#x2F;qun&#x2F;qun.php?qun&#x3D;208911329</code></pre>\n\n<p>可以看到返回结果</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#123;&quot;Qun_number&quot;:&quot;208911329&quot;,&quot;member_total&quot;:2000,&quot;member_now&quot;:1970,&quot;is_max&quot;:false,&quot;msg&quot;:&quot;群没有满&quot;,&quot;result&quot;:200&#125;</code></pre>\n\n<p>这样第一步就完成了！我们解决了<strong>群人数有没有满</strong>的判断问题</p>\n<h3 id=\"如何生成Q群链接？\"><a href=\"#如何生成Q群链接？\" class=\"headerlink\" title=\"如何生成Q群链接？\"></a>如何生成Q群链接？</h3><p>这时，我们看到下面的链接</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">https:&#x2F;&#x2F;qun.qq.com&#x2F;join.html</code></pre>\n\n<p>有一个加群组件，我们继续按照之前的方式对接口进行分析</p>\n<p><img src=\"https://static.iculture.cc/wp-content/uploads/2022/10/20221012071443970-1024x471.png?x-oss-process=image/auto-orient,1/format,webp/watermark,image_cHVibGljL2xvZ28ucG5nP3gtb3NzLXByb2Nlc3M9aW1hZ2UvcmVzaXplLFBfMTA,x_10,y_10\" alt=\"图片[6]-多群管理/自动检测Q群人数 切换入群链接 一个URL就能搞定！附思路/PHP代码-FancyPig&#39;s blog\"></p>\n<table>\n<thead>\n<tr>\n<th>请求接口URL</th>\n<th><a href=\"https://qun.qq.com/proxy/domain/admin.qun.qq.com/cgi-bin/qun_admin/get_join_k\">https://qun.qq.com/proxy/domain/admin.qun.qq.com/cgi-bin/qun_admin/get_join_k</a></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>请求方式</td>\n<td>POST</td>\n</tr>\n<tr>\n<td>请求头</td>\n<td>由于过长，这里隐藏，但是不可缺少（因为里面cookie需要验证QQ账户）</td>\n</tr>\n<tr>\n<td>请求载荷</td>\n<td>gc&#x3D;<strong>387568</strong>&amp;bkn&#x3D;1737682914</td>\n</tr>\n</tbody></table>\n<p>请求结构</p>\n<p>这里相当于生成的是QQ群<code>387568</code>的加群链接，我们观察下返回结果</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#123;&quot;ec&quot;:0,&quot;errcode&quot;:0,&quot;em&quot;:&quot;&quot;,&quot;k&quot;:&quot;ZJKca347RkycBiJ2m1Pfg1_S330Jlenv&quot;,&quot;auth_key&quot;:&quot;+kf6B\\&#x2F;DacbW3FkGLTZpwfrl5bcRFY19ObX0FT\\&#x2F;iEJKfCDgCsXUrOeVdI\\&#x2F;zuZ0bQ5&quot;&#125;</code></pre>\n\n<p>以及界面上给我们的链接代码</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">https:&#x2F;&#x2F;qm.qq.com&#x2F;cgi-bin&#x2F;qm&#x2F;qr?k&#x3D;ZJKca347RkycBiJ2m1Pfg1_S330Jlenv&amp;jump_from&#x3D;webapi&amp;authKey&#x3D;+kf6B&#x2F;DacbW3FkGLTZpwfrl5bcRFY19ObX0FT&#x2F;iEJKfCDgCsXUrOeVdI&#x2F;zuZ0bQ5</code></pre>\n\n<p>这时，我们可以清晰地看到结构，<strong>生成的K值</strong>、<strong>生成的authKey</strong>二者是变量，每次都在更换</p>\n<p><a href=\"https://qm.qq.com/cgi-bin/qm/qr?k=**%E7%94%9F%E6%88%90%E7%9A%84K%E5%80%BC**&amp;jump_from=webapi&amp;authKey=**%E7%94%9F%E6%88%90%E7%9A%84authKey\">https://qm.qq.com/cgi-bin/qm/qr?k=**生成的K值**&amp;jump_from=webapi&amp;authKey=**生成的authKey</a>**</p>\n<p>因此，我们可以继续按照刚才的方式，<strong>复制&gt;以cURL(bash)格式复制</strong></p>\n<p><img src=\"https://static.iculture.cc/wp-content/uploads/2022/10/20221012071814485.png?x-oss-process=image/auto-orient,1/format,webp/watermark,image_cHVibGljL2xvZ28ucG5nP3gtb3NzLXByb2Nlc3M9aW1hZ2UvcmVzaXplLFBfMTA,x_10,y_10\" alt=\"图片[7]-多群管理/自动检测Q群人数 切换入群链接 一个URL就能搞定！附思路/PHP代码-FancyPig&#39;s blog\"></p>\n<p>然后使用我们的工具转PHP代码</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#x2F;&#x2F; Generated by FancyPig Tool: https:&#x2F;&#x2F;www.iculture.cc&#x2F;demo&#x2F;curl_to_php\n\n$ch &#x3D; curl_init();\n\n\n\ncurl_setopt($ch, CURLOPT_URL, &#39;https:&#x2F;&#x2F;qun.qq.com&#x2F;proxy&#x2F;domain&#x2F;admin.qun.qq.com&#x2F;cgi-bin&#x2F;qun_admin&#x2F;get_join_k&#39;);\n\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\n\ncurl_setopt($ch, CURLOPT_POST, 1);\n\ncurl_setopt($ch, CURLOPT_POSTFIELDS, &quot;gc&#x3D;387568&amp;bkn&#x3D;1737682914&quot;);\n\ncurl_setopt($ch, CURLOPT_ENCODING, &#39;gzip, deflate&#39;);\n\n\n\n$headers &#x3D; array();\n\n$headers[] &#x3D; &#39;Authority: qun.qq.com&#39;;\n\n$headers[] &#x3D; &#39;Accept: *&#x2F;*&#39;;\n\n$headers[] &#x3D; &#39;Accept-Language: zh-CN,zh;q&#x3D;0.9,en;q&#x3D;0.8&#39;;\n\n$headers[] &#x3D; &#39;Content-Type: application&#x2F;x-www-form-urlencoded&#39;;\n\n$headers[] &#x3D; &#39;Cookie: 填你自己的Cookie值&#39;;\n\n$headers[] &#x3D; &#39;Origin: https:&#x2F;&#x2F;qun.qq.com&#39;;\n\n$headers[] &#x3D; &#39;Referer: https:&#x2F;&#x2F;qun.qq.com&#x2F;proxy.html?callback&#x3D;1&amp;id&#x3D;1&#39;;\n\n$headers[] &#x3D; &#39;Sec-Ch-Ua: \\&quot;Chromium\\&quot;;v&#x3D;\\&quot;106\\&quot;, \\&quot;Google Chrome\\&quot;;v&#x3D;\\&quot;106\\&quot;, \\&quot;Not;A&#x3D;Brand\\&quot;;v&#x3D;\\&quot;99\\&quot;&#39;;\n\n$headers[] &#x3D; &#39;Sec-Ch-Ua-Mobile: ?0&#39;;\n\n$headers[] &#x3D; &#39;Sec-Ch-Ua-Platform: \\&quot;Windows\\&quot;&#39;;\n\n$headers[] &#x3D; &#39;Sec-Fetch-Dest: empty&#39;;\n\n$headers[] &#x3D; &#39;Sec-Fetch-Mode: cors&#39;;\n\n$headers[] &#x3D; &#39;Sec-Fetch-Site: same-origin&#39;;\n\n$headers[] &#x3D; &#39;User-Agent: Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;106.0.0.0 Safari&#x2F;537.36&#39;;\n\ncurl_setopt($ch, CURLOPT_HTTPHEADER, $headers);\n\n\n\n$result &#x3D; curl_exec($ch);\n\nif (curl_errno($ch)) &#123;\n\n    echo &#39;Error:&#39; . curl_error($ch);\n\n&#125;\n\ncurl_close($ch);</code></pre>\n\n<p><strong>需要强调的是，目前这种方式都需要使用您自己QQ的cookie，并不能通用！</strong></p>\n<p>也就是说不能用我QQ的cookie获取你的QQ群人数情况，因为我不在群里，在群成员官网也是访问不到的</p>\n<p>我们对上述接口进行测试</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">https:&#x2F;&#x2F;www.iculture.cc&#x2F;qun&#x2F;join.php?qun&#x3D;</code></pre>\n\n<p>比方说我们想加入<code>387568</code>这个Q群，则请求下面的URL</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">https:&#x2F;&#x2F;www.iculture.cc&#x2F;qun&#x2F;join.php?qun&#x3D;387568</code></pre>\n\n<p>可以看到响应结果，里面已经为我们自动生成了k和authKey，我这里还定义了一个join_link的变量，这个就是我们的加群链接，已经拼接好了</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#123; &quot;Qun_number&quot;: &quot;387568&quot;, &quot;k&quot;: &quot;cxVpnDNAF7aHLuRd0SMBvAGni0-gyhGC&quot;, &quot;auth_key&quot;: &quot;9m4NvMN4EXX1CRg7PfYQFLnZy40PCYh39x&#x2F;SsixqheD+2TDvIJg1y39eSCFaz9y+&quot;, &quot;join_link&quot;: &quot;https:&#x2F;&#x2F;qm.qq.com&#x2F;cgi-bin&#x2F;qm&#x2F;qr?k&#x3D;cxVpnDNAF7aHLuRd0SMBvAGni0-gyhGC&amp;jump_from&#x3D;webapi&amp;auth_key&#x3D;9m4NvMN4EXX1CRg7PfYQFLnZy40PCYh39x&#x2F;SsixqheD+2TDvIJg1y39eSCFaz9y+&quot;, &quot;msg&quot;: &quot;生成成功&quot;, &quot;result&quot;: 200 &#125;</code></pre>\n\n<h2 id=\"自动切换Q群链接的实现\"><a href=\"#自动切换Q群链接的实现\" class=\"headerlink\" title=\"自动切换Q群链接的实现\"></a>自动切换Q群链接的实现</h2><p>既然我们已经完成了上面的两步，我们现在已经可以判断Q群人数是否满了？Q群链接自动生成也可以做，那下面就是水到渠成的事情了，首先我们把我现有的QQ群号列出来，写在一个数组里</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">$qun&#x3D;[387568,832028452,760887453,177746268,195757763,285522610,939083268,225905977,532539604,887485075,984233903,208911329,958383847,724938146,690168627,303510405];</code></pre>\n\n<p>然后我们去遍历每个元素，比方说，我们想获取第一个QQ群<code>387568</code>，则是下面的变量（<strong>代码规范：从0开始哦</strong>）</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">$qun[0]</code></pre>\n\n<p>之后写个循环呗，这里有两个函数</p>\n<ul>\n<li>curl_get 这个函数用来传群人数是否满了的结果</li>\n<li>curl_join 这个函数用来传加群链接的跳转</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">for ($i&#x3D;0; $i&lt;&#x3D;15; $i++)\n\n&#123;\n\n    if (curl_get($qun[$i]) &#x3D;&#x3D; FALSE)\n\n    &#123;\n\n        curl_join($qun[$i]);\n\n        break;\n\n    &#125;else&#123;\n\n        print(&quot;群人满了&quot;);\n\n        continue;\n\n    &#125;\n\n&#125;</code></pre>\n\n<h3 id=\"curl-get函数\"><a href=\"#curl-get函数\" class=\"headerlink\" title=\"curl_get函数\"></a>curl_get函数</h3><p>我们相当于在请求自己写好的接口</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">https:&#x2F;&#x2F;www.iculture.cc&#x2F;qun&#x2F;qun.php?qun&#x3D;</code></pre>\n\n<p>我们只关注<code>is_max</code>返回是<code>True</code>还是<code>False</code>，是<code>True</code>代表人满了，那就跳下一个群……是<code>False</code>代表人没满，还可以加入，就生成链接就好了！</p>\n<h4 id=\"核心代码\"><a href=\"#核心代码\" class=\"headerlink\" title=\"核心代码\"></a>核心代码</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">function curl_get($qun)&#123;\n\n$ch &#x3D; curl_init();\n\n\n\ncurl_setopt($ch, CURLOPT_URL, &quot;https:&#x2F;&#x2F;www.iculture.cc&#x2F;qun&#x2F;qun.php?qun&#x3D;$qun&quot;);\n\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\n\ncurl_setopt($ch, CURLOPT_CUSTOMREQUEST, &#39;GET&#39;);\n\n\n\ncurl_setopt($ch, CURLOPT_ENCODING, &#39;gzip, deflate&#39;);\n\n\n\n$result &#x3D; curl_exec($ch);\n\nif (curl_errno($ch)) &#123;\n\n    echo &#39;Error:&#39; . curl_error($ch);\n\n&#125;\n\ncurl_close($ch);\n\n&#x2F;&#x2F;print($result);\n\n$result &#x3D; json_decode($result,JSON_PRETTY_PRINT|JSON_UNESCAPED_UNICODE);\n\n&#x2F;&#x2F; print_r($result);\n\n$is_max &#x3D; $result[&#39;is_max&#39;];\n\nreturn $is_max;\n\n&#125;</code></pre>\n\n<h3 id=\"curl-join函数\"><a href=\"#curl-join函数\" class=\"headerlink\" title=\"curl_join函数\"></a>curl_join函数</h3><p>用来自动跳转Q群，使用最简单的php代码，跳转我们获取到的$join_link地址</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">header(&quot;Location:$join_link&quot;);</code></pre>\n\n<h4 id=\"核心代码-1\"><a href=\"#核心代码-1\" class=\"headerlink\" title=\"核心代码\"></a>核心代码</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">function curl_join($qun)&#123;\n\n    $ch &#x3D; curl_init();\n\n\n\ncurl_setopt($ch, CURLOPT_URL, &quot;https:&#x2F;&#x2F;www.iculture.cc&#x2F;qun&#x2F;join.php?qun&#x3D;$qun&quot;);\n\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\n\ncurl_setopt($ch, CURLOPT_CUSTOMREQUEST, &#39;GET&#39;);\n\n\n\ncurl_setopt($ch, CURLOPT_ENCODING, &#39;gzip, deflate&#39;);\n\n\n\n$result &#x3D; curl_exec($ch);\n\nif (curl_errno($ch)) &#123;\n\n    echo &#39;Error:&#39; . curl_error($ch);\n\n&#125;\n\ncurl_close($ch);\n\n$result &#x3D; json_decode($result,JSON_PRETTY_PRINT|JSON_UNESCAPED_UNICODE);\n\n&#x2F;&#x2F; print_r($result);\n\n$join_link &#x3D; $result[&#39;join_link&#39;];\n\nheader(&quot;Location:$join_link&quot;);\n\n&#125;</code></pre>\n\n<h3 id=\"完整代码\"><a href=\"#完整代码\" class=\"headerlink\" title=\"完整代码\"></a>完整代码</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;?php\n\n$qun&#x3D;[387568,832028452,760887453,177746268,195757763,285522610,939083268,225905977,532539604,887485075,984233903,208911329,958383847,724938146,690168627,303510405];\n\nfor ($i&#x3D;0; $i&lt;&#x3D;15; $i++)\n\n&#123;\n\n    if (curl_get($qun[$i]) &#x3D;&#x3D; FALSE)\n\n    &#123;\n\n        curl_join($qun[$i]);\n\n        break;\n\n    &#125;else&#123;\n\n        print(&quot;群人满了&quot;);\n\n        continue;\n\n    &#125;\n\n&#125;\n\n\n\nfunction curl_get($qun)&#123;\n\n$ch &#x3D; curl_init();\n\n\n\ncurl_setopt($ch, CURLOPT_URL, &quot;https:&#x2F;&#x2F;www.iculture.cc&#x2F;qun&#x2F;qun.php?qun&#x3D;$qun&quot;);\n\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\n\ncurl_setopt($ch, CURLOPT_CUSTOMREQUEST, &#39;GET&#39;);\n\n\n\ncurl_setopt($ch, CURLOPT_ENCODING, &#39;gzip, deflate&#39;);\n\n\n\n$result &#x3D; curl_exec($ch);\n\nif (curl_errno($ch)) &#123;\n\n    echo &#39;Error:&#39; . curl_error($ch);\n\n&#125;\n\ncurl_close($ch);\n\n&#x2F;&#x2F;print($result);\n\n$result &#x3D; json_decode($result,JSON_PRETTY_PRINT|JSON_UNESCAPED_UNICODE);\n\n&#x2F;&#x2F; print_r($result);\n\n$is_max &#x3D; $result[&#39;is_max&#39;];\n\nreturn $is_max;\n\n&#125;\n\n\n\nfunction curl_join($qun)&#123;\n\n    $ch &#x3D; curl_init();\n\n\n\ncurl_setopt($ch, CURLOPT_URL, &quot;https:&#x2F;&#x2F;www.iculture.cc&#x2F;qun&#x2F;join.php?qun&#x3D;$qun&quot;);\n\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\n\ncurl_setopt($ch, CURLOPT_CUSTOMREQUEST, &#39;GET&#39;);\n\n\n\ncurl_setopt($ch, CURLOPT_ENCODING, &#39;gzip, deflate&#39;);\n\n\n\n$result &#x3D; curl_exec($ch);\n\nif (curl_errno($ch)) &#123;\n\n    echo &#39;Error:&#39; . curl_error($ch);\n\n&#125;\n\ncurl_close($ch);\n\n$result &#x3D; json_decode($result,JSON_PRETTY_PRINT|JSON_UNESCAPED_UNICODE);\n\n&#x2F;&#x2F; print_r($result);\n\n$join_link &#x3D; $result[&#39;join_link&#39;];\n\nheader(&quot;Location:$join_link&quot;);\n\n&#125;\n\n\n\n\n\n\n\n?&gt;</code></pre>\n\n<h3 id=\"效果展示\"><a href=\"#效果展示\" class=\"headerlink\" title=\"效果展示\"></a>效果展示</h3><p>我们最终将完整代码放到index.php就可以咯！</p>\n","feature":true,"text":" 杂谈其实代码非常简单，就是用的meta标签进行跳转 &lt;!DOCTYPE html&gt; &lt;html lang&#x3D;&quot;zh-cn&quot;&gt; &lt;head&gt; &lt;meta charset&#x3D;&quot;utf-8&quo...","link":"","photos":[],"count_time":{"symbolsCount":"23k","symbolsTime":"21 mins."},"categories":[{"name":"文章","slug":"文章","count":15,"path":"api/categories/文章.json"}],"tags":[],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%9D%82%E8%B0%88\"><span class=\"toc-text\">杂谈</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AE%9E%E7%8E%B0%E6%80%9D%E8%B7%AF\"><span class=\"toc-text\">实现思路</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#QQ%E7%BE%A4%E4%BA%BA%E6%9C%89%E6%B2%A1%E6%9C%89%E6%BB%A1%EF%BC%9F%E5%A6%82%E4%BD%95%E9%80%9A%E8%BF%87%E6%8E%A5%E5%8F%A3%E5%88%A4%E6%96%AD%EF%BC%9F\"><span class=\"toc-text\">QQ群人有没有满？如何通过接口判断？</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%A6%82%E4%BD%95%E7%94%9F%E6%88%90Q%E7%BE%A4%E9%93%BE%E6%8E%A5%EF%BC%9F\"><span class=\"toc-text\">如何生成Q群链接？</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%87%AA%E5%8A%A8%E5%88%87%E6%8D%A2Q%E7%BE%A4%E9%93%BE%E6%8E%A5%E7%9A%84%E5%AE%9E%E7%8E%B0\"><span class=\"toc-text\">自动切换Q群链接的实现</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#curl-get%E5%87%BD%E6%95%B0\"><span class=\"toc-text\">curl_get函数</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%A0%B8%E5%BF%83%E4%BB%A3%E7%A0%81\"><span class=\"toc-text\">核心代码</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#curl-join%E5%87%BD%E6%95%B0\"><span class=\"toc-text\">curl_join函数</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%A0%B8%E5%BF%83%E4%BB%A3%E7%A0%81-1\"><span class=\"toc-text\">核心代码</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81\"><span class=\"toc-text\">完整代码</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA\"><span class=\"toc-text\">效果展示</span></a></li></ol></li></ol>","author":{"name":"AURR","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"【网课必备】大学慕课Mooc网自动刷课神器 附源码","uid":"7aaf185afa16f638a02f701b86cdbf79","slug":"2020","date":"2022-10-06T01:00:21.000Z","updated":"2022-10-22T08:05:49.365Z","comments":true,"path":"api/articles/2020.json","keywords":null,"cover":"https://static.iculture.cc/wp-content/uploads/2021/08/20210828102959668.png?x-oss-process=image/auto-orient,1/format,webp/watermark,image_cHVibGljL2xvZ28ucG5nP3gtb3NzLXByb2Nlc3M9aW1hZ2UvcmVzaXplLFBfMTA,x_10,y_10","text":"￥4.09元...","link":"","photos":[],"count_time":{"symbolsCount":275,"symbolsTime":"1 mins."},"categories":[{"name":"软件","slug":"软件","count":32,"path":"api/categories/软件.json"}],"tags":[{"name":"脚本","slug":"脚本","count":3,"path":"api/tags/脚本.json"}],"author":{"name":"AURR","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"王者荣耀如何修改空白名？程序猿的打开方式？","uid":"ed6458d5616491f9e3f5e4813d359149","slug":"17932","date":"2022-10-03T11:24:01.000Z","updated":"2022-10-22T07:27:54.467Z","comments":true,"path":"api/articles/17932.json","keywords":null,"cover":[],"text":" 杂谈热心网友表示多发点王者相关的内容吧，那我们今天来个技术和工具相结合的文章吧！ 今天我们主要针对空白名称做一个分享吧！ 图文教程首先是空白名，其实很多老年玩家在玩端游CF的时候就发现可以借助一些特殊字符改空白名或者是口吐芬芳，这是游戏本身对特殊字符的处理导致的。 常见特殊符号...","link":"","photos":[],"count_time":{"symbolsCount":"3k","symbolsTime":"3 mins."},"categories":[{"name":"文章","slug":"文章","count":15,"path":"api/categories/文章.json"}],"tags":[],"author":{"name":"AURR","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}